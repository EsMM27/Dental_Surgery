@page
@model IndexModel
@{
    ViewData["Title"] = "Dashboard";
}

<h2>👋 Welcome, @Model.DisplayName!</h2>

@if (User.IsInRole("Admin"))
{
    <div>
        <h3>📊 Admin Overview</h3>
        <p>Appointments Today: @Model.AppointmentsToday</p>
        <p>Total Users: @Model.TotalUsers</p>
        <p>Dentists: @Model.TotalDentists</p>
        <p>Receptionists: @Model.TotalReceptionists</p>
        <a asp-page="/Admin/ManageUsers">Manage Users</a>
        <a asp-page="/Admin/SystemLogs">View Logs</a>
    </div>
}
@if (User.IsInRole("Receptionist"))
{
    <div class="card shadow-sm p-4">
        <h3 class="mb-3">📅 Receptionist Dashboard</h3>
        <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between">
                <span>Appointments Today:</span>
                <strong>@Model.AppointmentsToday</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
                <span>Dentists on Duty:</span>
                <strong>@Model.DentistsOnDuty</strong>
            </li>
            
        </ul>

        <div>
            <a class="btn btn-primary me-2" asp-page="/Shared/Schedule">📖 View Schedule</a>
            <a class="btn btn-success me-2" asp-page="/Admin2/Patients/Index">👥 Manage Patients</a>
            <a class="btn btn-secondary" asp-page="/Admin2/Appointments/Create">➕ New Appointment</a>
        </div>
    </div>
}

@if (User.IsInRole("Dentist"))
{
    <div class="card shadow-sm p-4">
        <h3 class="mb-3">🦷 Dentist Dashboard</h3>
        <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between">
                <span>Appointments Today:</span>
                <strong>@Model.AppointmentsToday</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
                <span>Next Appointment:</span>
                <strong>@Model.NextAppointmentTime - @Model.NextPatientName</strong>
            </li>
        </ul>

        <div>
            <a class="btn btn-primary me-2" asp-page="/Shared/Schedule">📅 View My Schedule</a>
            <a class="btn btn-secondary" asp-page="/Patients/History">📄 Patient History</a>
        </div>
    </div>
}


